// ContextMenu - v0.5.0 - 2012-11-01
// Copyright (c) 2012 Jakeb Rosoman; Licensed 
(function(){function e(t,n,r){n||(n=0);var i=e.resolve(t,n),s=e.modules[n][i];if(!s)throw new Error('failed to require "'+t+'" from '+r);if(s.context){n=s.context,i=s.main,s=e.modules[n][s.main];if(!s)throw new Error('failed to require "'+i+'" from '+n)}return s.exports||(s.exports={},s.call(s.exports,s,s.exports,e.relative(i,n))),s.exports}e.modules=[{}],e.resolve=function(t,n){var r=t,i=t+".js",s=t+"/index.js";return e.modules[n][i]&&i||e.modules[n][s]&&s||r},e.relative=function(t,n){return function(r){if("."!=r.charAt(0))return e(r,n,t);var i=t.split("/"),s=r.split("/");i.pop();for(var o=0;o<s.length;o++){var u=s[o];".."==u?i.pop():"."!=u&&i.push(u)}return e(i.join("/"),n,t)}},e.modules[0]={"/Dropbox/Development/Libraries/Emitter/src/index.js":function(e,t,n){function r(e){if(!(this instanceof r))return e?r.mixin(e):new r}function s(e){Object.defineProperty(e,"_callbacks",{value:Object.create(null),writable:!0,configurable:!0})}e.exports=r;var i=r.prototype;r.new=function(){return new this},r.mixin=function(e){return Object.keys(i).forEach(function(t){Object.defineProperty(e,t,{value:i[t],writable:!0,configurable:!0})}),e},i.publish=function(e,t){var n;if((n=this._callbacks)&&(n=n[e])){e=n.length;while(e--)n[e].call(n[--e],t)}return this},i.on=function(e,t,n){this._callbacks||s(this);var r=this._callbacks;return e.split(/\s+/).forEach(function(e){r[e]=[n||this,t].concat(r[e]||[])},this),this},i.once=function(e,t,n){return e.split(/\s+/).forEach(function(e){function i(s){r.off(e,i),t.call(n,s)}var r=this;this.on(e,i,n)},this),this},i.off=function(e,t){var n=this._callbacks;return n&&(e?t?e.split(/\s+/).forEach(function(e){var r=n[e];if(r){r=r.slice();var i=r.length;while(i--)if(r[i--]===t){r.splice(i,2),n[e]=r;break}}}):e.split(/\s+/).forEach(function(e){delete n[e]}):s(this)),this}},"/Dropbox/Development/Libraries/Tip/src/index.js":function(e,t,n){function o(e,t){t=t||{};var n=t.delay;i(e).each(function(){var e=i(this),r=t.value||e.attr("title");e.attr("title",""),(new u(r)).cancelHideOnHover(n).attach(e[0],n)})}function u(e,t){if(!(this instanceof u))return o(e,t);this.classname="tip",this.$el=i(s()),this.view=this.$el[0],this.$el.find(".tip-inner").append(e),u.effect&&this.effect(u.effect),this.appendTo(document.body).place("north").measure().hide()}function f(e){var t=0,n=0;do t+=e.offsetLeft+e.clientLeft,n+=e.offsetTop+e.clientTop;while(e=e.offsetParent);return{left:t,top:n}}var r=n("Emitter"),i=n("jquery"),s=n("./tip.hbs");n("./tip.css").init(),e.exports=u,u.new=function(e,t){return new this(e,t)};var a=u.prototype=Object.create(r.prototype,{constructor:{value:u}});a.attach=function(e,t){var n=this;return i(e).hover(function(){n.show(),n.cancelHide()},function(){n.hide(t)}),this.target(e)},a.appendTo=function(e){return this.$el.appendTo(e),this.sizeContainer()},a.sizeContainer=function(){var e=this.view.offsetParent,t=f(e);return this._container={left:t.left,top:t.top,right:t.left+e.clientWidth,bottom:t.top+e.clientHeight},this},a.measure=function(){var e=this.view.getBoundingClientRect();return this.outerWidth=e.width,this.outerHeight=e.height,this},a.cancelHideOnHover=function(e){return this.$el.hover(this.cancelHide.bind(this),this.hide.bind(this,e)),this},u.prototype.effect=function(e){return this._effect=e,this.$el.addClass(e),this},u.prototype.place=function(e){var t=e.match(/(south|north)?\s*(east|west)?/);if(!t)throw new Error("Invalid position type");return this._position=e,this.setClass(),this._vertical=t[1]||"",this._horizontal=t[2]||"",this},u.prototype.position=u.prototype.place,u.prototype.target=function(e){if(e instanceof Element){this._targetNode=e,e=e.getBoundingClientRect();var t={top:e.top+window.scrollY,left:e.left+window.scrollX};t.right=t.left+e.width,t.bottom=t.top+e.height}else{delete this._targetNode;if(arguments.length===2){var n=arguments[0],r=arguments[1];t={left:n,right:n,top:r,bottom:r}}}return t.midX=(t.left+t.right)/2,t.midY=(t.top+t.bottom)/2,this.targetBox=t,this},u.prototype.show=function(){return this.$el.removeClass("tip-hide").css("visibility","visible"),i(window).on("resize",this._resize=function(e){this._targetNode&&this.target(this._targetNode),this.sizeContainer().reposition()}.bind(this)).on("scroll",this._reposition=this.reposition.bind(this)),this._resize(),this.publish("show")},u.prototype.reposition=function(){var e=this._position,t=this.offset(e),n=this.suggest(t);if(n.vert||n.hor)e=((n.vert||this._vertical)+" "+(n.hor||this._horizontal)).trim(),t=this.offset(e);var r={left:"auto",top:"auto",right:"auto",bottom:"auto"};return r.top=t.top-this._container.top,r.left=t.left-this._container.left,this.setClass(e),this.$el.css(r),this},u.prototype.suggest=function(e){var t=i(window),n=t.scrollTop(),r=t.scrollLeft(),s=t.width()+r,o=t.height()+n,u={};if(e.top<n||e.bottom>o)o-this.targetBox.bottom>this.targetBox.top-n?u.vert="south":u.vert="north";if(e.right>s||e.left<r)s-this.targetBox.right>this.targetBox.left-r?u.hor="east":u.hor="west";return u},u.prototype.setClass=function(e){var t="tip-"+(e||this._position).split(" ").join("-");return t!==this._pos_class&&this.$el.removeClass(this._pos_class||t).addClass(this._pos_class=t),this},u.prototype.offset=function(e){var t=this.targetBox;switch(e){case"north":return{top:t.top-this.outerHeight,right:t.midX+this.outerWidth/2,bottom:t.top,left:t.midX-this.outerWidth/2};case"north west":return{top:t.top,right:t.left,bottom:t.top+this.outerHeight,left:t.left-this.outerWidth};case"north east":return{top:t.top,right:t.right+this.outerWidth,bottom:t.top+this.outerHeight,left:t.right};case"south":return{top:t.bottom,right:t.midX+this.outerWidth/2,bottom:t.bottom+this.outerHeight,left:t.midX-this.outerWidth/2};case"south west":return{top:t.bottom-this.outerHeight,right:t.left,bottom:t.bottom,left:t.left-this.outerWidth};case"south east":return{top:t.bottom-this.outerHeight,right:t.right+this.outerWidth,bottom:t.bottom,left:t.right};case"east":return{top:t.midY-this.outerHeight/2,right:t.right+this.outerWidth,bottom:t.midY+this.outerHeight/2,left:t.right};case"west":return{top:t.midY-this.outerHeight/2,right:t.left,bottom:t.midY+this.outerHeight/2,left:t.left-this.outerWidth};default:throw new Error('invalid position "'+e+'"')}},u.prototype.cancelHide=function(){return this.$el.removeClass("tip-hide"),clearTimeout(this._hide),this},u.prototype.hide=function(e){return this.$el.addClass("tip-hide"),e?this._hide=setTimeout(this.hide.bind(this),e):(this.$el.css("visibility","hidden"),i(window).off("resize",this._resize||this.reposition).off("scroll",this._reposition||this.reposition),this.publish("hide")),this},u.prototype.remove=function(e){return this.hide(e).$el.remove(),this}},"/Dropbox/Development/Libraries/Tip/src/tip.css":function(e,t,n){t.init=function(){r.parentElement||document.getElementsByTagName("head")[0].appendChild(r)};var r=document.createElement("style");r.appendChild(document.createTextNode(".tip {\n  font-size: 11px;\n  position: absolute;\n  padding: 5px;\n  z-index: 1000;\n}\n\n.tip-inner {\n  background: rgb(50,50,50);\n  color: #fff;\n  padding: 5px;\n  display: inline-block;\n  border-radius: 3px;\n}\n\n.tip-arrow {\n  position: absolute;\n  width: 0;\n  height: 0;\n  line-height: 0;\n  border: 5px solid rgb(50,50,50);\n}\n  \n.tip-arrow-south { border-bottom-color: rgba(0,0,0,.75) }\n.tip-arrow-north { border-top-color: rgba(0,0,0,.75) }\n.tip-arrow-west { border-left-color: rgba(0,0,0,.75) }\n.tip-arrow-east { border-right-color: rgba(0,0,0,.75) }\n  \n.tip-south .tip-arrow {\n  top: 0px;\n  left: 50%;\n  margin-left: -5px;\n  border-bottom-style: solid;\n  border-top: none;\n  border-left-color: transparent;\n  border-right-color: transparent\n}\n\n.tip-north .tip-arrow {\n  bottom: 0;\n  left: 50%;\n  margin-left: -5px;\n  border-top-style: solid;\n  border-bottom: none;\n  border-left-color: transparent;\n  border-right-color: transparent\n}\n\n.tip-west .tip-arrow,\n.tip-north-west .tip-arrow,\n.tip-south-west .tip-arrow {\n  right: 0;\n  top: 50%;\n  margin-top: -5px;\n  border-left-style: solid;\n  border-right: none;\n  border-top-color: transparent;\n  border-bottom-color: transparent\n}\n\n.tip-east .tip-arrow,\n.tip-north-east .tip-arrow,\n.tip-south-east .tip-arrow {\n  left: 0;\n  top: 50%;\n  margin-top: -3px;\n  border-right-style: solid;\n  border-left: none;\n  border-top-color: transparent;\n  border-bottom-color: transparent\n}\n\n.tip-north-west .tip-arrow,\n.tip-north-east .tip-arrow {\n  margin-top: -1px;\n  top: 25%;\n}\n\n.tip-south-west .tip-arrow,\n.tip-south-east .tip-arrow {\n  top: 75%;\n  margin-top: -10px;\n}\n\n/* effects */\n\n.tip.fade {\n  transition: opacity 100ms;\n  -moz-transition: opacity 100ms;\n  -webkit-transition: opacity 100ms;\n}\n\n.tip-hide {\n  opacity: 0;\n}"))},"/Dropbox/Development/Libraries/Tip/src/tip.hbs":function(e,t,n){var r=n("Handlebars");e.exports=r.template(function(e,t,n,r,i){return n||(n=e.helpers),'<div class="tip tip-hide">\n  <div class="tip-arrow"></div>\n  <div class="tip-inner"></div>\n</div>'})},Emitter:function(e,t,n){e.exports=n("/Dropbox/Development/Libraries/Emitter/src/index")},Handlebars:{exports:window.Handlebars},Tip:function(e,t,n){e.exports=n("/Dropbox/Development/Libraries/Tip/src/index")},jquery:{exports:window.$},"src/index.js":function(e,t,n){function u(e){u.instances.push(this),this.targetNode=e,this.classname="menu",this.content=document.createElement("div"),this.$content=r(this.content).append(this.template()).addClass("menu"),s.call(this,this.content),this.place("north east"),this.items=[]}var r=n("jquery"),i=n("underscore"),s=n("Tip"),o=n("./item/index");n("./menu.css").init(),e.exports=u,u.instances=[],u.clear=function(){u.instances.forEach(function(e){e.remove()}),u.instances.length=0},u.new=function(e){return new this(e)},u.prototype=Object.create(s.prototype,{constructor:{value:u}}),u.prototype.template=n("./menu.hbs"),u.prototype.newItem=function(){return new o(this)},u.prototype.domEvents={keydown:function(e){e.preventDefault();switch(e.which){case 40:this.down();break;case 38:this.up();break;case 37:this.transferFocus("left");break;case 39:this.transferFocus("right");break;case 13:this.toggleSelect(e)}},mousedown:function(e){this.$el.hasClass("hasFocus")?this.toggleSelect():this.focus(),e.preventDefault()},mousemove:function(e){var t=e.target,n=this;this.$content.children(".item").each(function(){if(r(this).is(t)||r(this).find(t).length){var e=i.find(n.items,function(e){return e.view===this},this),s=n.getFocused();e!==s&&(e.focus(),s&&s.blur())}})},mouseenter:function(e){this.$el.hasClass("hasFocus")||this.focus()},mouseleave:function(e){this.items.forEach(function(e){e.isFocused()&&e.blur()}),this.hideLens()},focusin:function(e){this.$el.addClass("hasFocus"),console.log("focus in")},focusout:function(e){this.$el.removeClass("hasFocus"),console.log("focus out")}},u.prototype.bind=function(){var e=this.domEvents;this.domEvents={};for(var t in e)this.$el.on(t,this.domEvents[t]=e[t].bind(this));return this},u.prototype.unbind=function(){for(var e in this.domEvents)this.$el.off(e,this.domEvents[e]);return delete this.domEvents,this},u.prototype.up=function(){var e=this.getFocused();return e&&e instanceof a&&e.getFocused()?(e.navigate("up"),this):this.navigate("up")},u.prototype.down=function(){var e=this.getFocused();return e&&e instanceof a&&e.getFocused()?(e.navigate("down"),this):this.navigate("down")},u.prototype.transferFocus=function(e){var t=this.getFocused();t&&t instanceof a&&(t.$content.offset().left>t.$el.offset().left?t[e==="right"?"open":"close"](e):t[e==="left"?"open":"close"](e))},u.prototype.open=function(e){var t=this.getFocused();t&&t instanceof a&&t.open()},u.prototype.close=function(e){var t=this.getFocused();t&&t instanceof a&&t.close()},u.prototype.navigate=function(e){var t=this.getFocused(),n;return t?n=this.items[this.items.indexOf(t)+(e==="up"?-1:1)]:n=e==="up"?this.items[this.items.length-1]:this.items[0],n&&(n.focus(),t&&t.blur()),this},u.prototype.toggleSelect=function(){var e=this.getFocused();return e&&e.toggleSelect(),this},u.prototype.getFocused=function(){return i.find(this.items,function(e){return e.isFocused()})},u.prototype.focus=function(){var e=window.scrollX,t=window.scrollY;return this.$content.find(".key-bait").focus(),window.scrollTo(e,t),this},u.prototype.blur=function(){return this.$content.find(".key-bait").blur(),this},u.prototype.item=function(e,t){var n=this.newItem();return typeof e=="string"?(n.title(e),t&&n.icon(t)):(n.title(e.title),e.icon&&n.icon(e.icon)),n.insert()},u.prototype.add=function(e){return this.items.push(e),e.on("focus",function(){this.moveLens(e)},this).on("blur",function(){this.getFocused()||this.hideLens()},this).on("select",function(){r(this.targetNode).trigger(e.$el.find(".title").text().toLowerCase().trim().replace(/\s+/,"-")),this.remove()},this),this.$content.append(e.view),this},u.prototype.moveLens=function(e){var t=e.view;return this.$content.children(".focus-lens").css({display:"block",top:t.offsetTop,height:t.offsetHeight}),this},u.prototype.hideLens=function(){return this.$content.find(".focus-lens").hide(),this},u.prototype.fixWidth=function(e){return e||(e=this.$content.css("width")),this.$content.css("width",e),this},u.prototype.submenu=function(e,t){var n=new a(this);return e&&n.title(e),t&&n.icon(t),n},u.prototype.done=function(e,t){return e&&this.target.apply(this,arguments),this.fixWidth().measure().bind().show().focus()},u.prototype.removeOnBlur=function(){return r(window).on("mousedown",function e(t){t.isDefaultPrevented()||(this.remove(),r(window).off("mousedown",e))}.bind(this)),this},u.prototype.remove=function(){return s.prototype.remove.call(this),this.items.forEach(function(e){e.remove()}),this};var a=n("./submenu/index")},"src/item/index.js":function(e,t,n){function r(e,t){this.parent=e,this.view=document.createElement("li"),this.$el=$(this.view).append(this.template(t)).addClass("item"),this.bind()}e.exports=r,n("./item.css").init(),r.prototype=Object.create(n("Emitter").prototype,{constructor:{value:r}}),r.prototype.template=n("./item.hbs"),r.prototype.bind=function(){this.$el.on("click",this.trigger.bind(this))},r.prototype.unbind=function(){this.$el.off("click")},r.prototype.remove=function(){return this.$el.remove(),this.off()},r.prototype.trigger=function(){var e=this.$el.find(".title").text().toLowerCase().trim().replace(/\s+/,"-");this.publish("select",e)},r.prototype.toggleSelect=function(){return this.$el.hasClass("selected")?(this.$el.removeClass("selected"),this.publish("deselect")):(this.$el.addClass("selected"),this.publish("select")),this},r.prototype.focus=function(){return this.$el.hasClass("focused")||(this.$el.addClass("focused"),this.publish("focus")),this},r.prototype.isFocused=function(){return this.$el.hasClass("focused")},r.prototype.blur=function(){return this.$el.hasClass("focused")&&(this.$el.removeClass("focused"),this.publish("blur")),this},r.prototype.title=function(e){return this.$el.find(".title").text(e),this},r.prototype.icon=function(e){var t=document.createElement("img");return $(t).attr("src",e),this.$el.find(".icon").append(t),this},r.prototype.insert=function(){return this.parent.add(this)}},"src/item/item.css":function(e,t,n){t.init=function(){r.parentElement||document.getElementsByTagName("head")[0].appendChild(r)};var r=document.createElement("style");r.appendChild(document.createTextNode(".menu .item {\n	list-style: none;\n	position: relative;\n	padding: 8px 20px;\n	vertical-align: middle;\n	border-top-width:1px;\n	border-top-style: solid;\n	border-color: rgba(0,0,0,.1);\n}\n.menu .item:first-of-type {\n	border-top-right-radius: 3px;\n	border-top-left-radius: 3px;\n	border-top: none;\n}\n.menu .item:last-of-type {\n	border-bottom-right-radius: 3px;\n	border-bottom-left-radius: 3px;\n}\n.menu .item .icon {\n	display: inline-block;\n	margin-right: 10px;\n}\n.menu .item .icon img {\n	height: 14px;\n	width: 14px;\n}\n.menu .item .title {\n	display: inline-block;\n}\n.menu .item.selected {\n	background: #4297FF;\n  	background: -webkit-linear-gradient(top, #6FAFFF, #4297FF);\n}"))},"src/item/item.hbs":function(e,t,n){var r=n("Handlebars");e.exports=r.template(function(e,t,n,r,i){n||(n=e.helpers);var s="";return s+='<div class="icon"></div><div class="title"></div>',s})},"src/menu.css":function(e,t,n){t.init=function(){r.parentElement||document.getElementsByTagName("head")[0].appendChild(r)};var r=document.createElement("style");r.appendChild(document.createTextNode(".menu {\n    -webkit-user-select:none;\n    background: white;\n    color:rgb(60,60,60);\n    font-size: 14px;\n    font-family: Verdana;\n    border:1px solid rgba(0,0,0,.4);\n    border-radius: 3px;\n    position: relative;\n}\ndiv.tip .tip-inner {\n    background: rgb(50,50,50);\n    color: #fff;\n    padding: 0;\n    display: inline-block;\n}\n.menu .focus-lens {\n    position: absolute;\n    left:0;\n    right:0;\n    background: #D9EAFF;\n    background: -webkit-linear-gradient(top, #D2E7FF, #9BC8FF);\n    transition: top 60ms ease-in;\n    -webkit-transition: top 100ms ease-out;\n}\ndiv.tip {\n    padding: 0;\n    box-shadow: -2px 2px 10px 0 rgba(0,0,0,.1);\n    -webkit-user-select:none;\n}\ndiv.tip .tip-arrow {\n    display: none;\n}"))},"src/menu.hbs":function(e,t,n){var r=n("Handlebars");e.exports=r.template(function(e,t,n,r,i){n||(n=e.helpers);var s="";return s+='\r\n<div class="focus-lens"></div>\r\n<input class="key-bait" style="position:absolute;top:-9999px;"></input>',s})},"src/submenu/index.js":function(e,t,n){function s(e){this.parent=e,this.view=document.createElement("li"),this.$el=$(this.view).append(this.template()).addClass("item submenu"),this.contents=(new r).place("north east").target(this.view),this.$content=this.contents.$content}var r=n("../index"),i=n("../item/index");e.exports=s,s.prototype=Object.create(r.prototype,{constructor:{value:s}}),s.prototype.template=n("./submenu.hbs"),s.prototype.icon=i.prototype.icon,s.prototype.title=i.prototype.title,s.prototype.isFocused=i.prototype.isFocused,s.prototype.toggleSelect=i.prototype.toggleSelect,s.prototype.add=function(e){return this.contents.add(e),this},s.prototype.open=function(){var e=this.getFocused();return e?this.contents.open():this.contents.down(),this},s.prototype.close=function(){var e=this.getFocused();return e&&(e instanceof s?e.close():e.blur()),this},s.prototype.getFocused=function(){return this.contents.getFocused()},s.prototype.insert=function(){var e=i.prototype.insert.call(this);return this.contents.appendTo(this.view),e},s.prototype.done=function(){var e=this.insert();return this.fixWidth().measure(),this.contents.$content.on("mousemove",this.domEvents.mousemove.bind(this.contents)),e},s.prototype.fixWidth=function(){var e=0,t=this.contents.$content;return t.children(".item").each(function(){var t=parseInt($(this).css("padding-left"),10)+parseInt($(this).css("padding-right"),10);$(this).children().each(function(){t+=$(this).outerWidth()+parseInt($(this).css("margin-left"),10)+parseInt($(this).css("margin-right"),10)}),t>e&&(e=t)}),t.css({width:e}),this},s.prototype.navigate=function(e){return this.contents.navigate(e)},s.prototype.measure=function(){return this.contents.measure(),this},s.prototype.focus=function(){return this.$el.hasClass("focused")||(this.$el.addClass("focused"),this.contents.show(),this.publish("focus")),this},s.prototype.blur=function(){return this.$el.hasClass("focused")&&(this.$el.removeClass("focused"),this.contents.hide(),this.publish("blur")),this},s.prototype.remove=function(){return this.contents.remove(),this.$el.remove(),this}},"src/submenu/submenu.hbs":function(e,t,n){var r=n("Handlebars");e.exports=r.template(function(e,t,n,r,i){return n||(n=e.helpers),'<div class="icon"></div>\r\n<div class="title"></div>'})},underscore:function(e,t,n){e.exports=n("./vendor/underscore.js")},"vendor/underscore.js":function(e,t,n){(function(){var n=this,r=n._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.push,f=s.slice,l=s.concat,c=s.unshift,h=o.toString,p=o.hasOwnProperty,d=s.forEach,v=s.map,m=s.reduce,g=s.reduceRight,y=s.filter,b=s.every,w=s.some,E=s.indexOf,S=s.lastIndexOf,x=Array.isArray,T=Object.keys,N=u.bind,C=function(e){if(e instanceof C)return e;if(!(this instanceof C))return new C(e);this._wrapped=e};typeof t!="undefined"?(typeof e!="undefined"&&e.exports&&(t=e.exports=C),t._=C):n._=C,C.VERSION="1.4.2";var k=C.each=C.forEach=function(e,t,n){if(e==null)return;if(d&&e.forEach===d)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o in e)if(C.has(e,o)&&t.call(n,e[o],o,e)===i)return};C.map=C.collect=function(e,t,n){var r=[];return e==null?r:v&&e.map===v?e.map(t,n):(k(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(m&&e.reduce===m)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);k(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(g&&e.reduceRight===g)return r&&(t=C.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=C.keys(e);s=o.length}k(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},C.find=C.detect=function(e,t,n){var r;return L(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},C.filter=C.select=function(e,t,n){var r=[];return e==null?r:y&&e.filter===y?e.filter(t,n):(k(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},C.reject=function(e,t,n){var r=[];return e==null?r:(k(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},C.every=C.all=function(e,t,n){t||(t=C.identity);var r=!0;return e==null?r:b&&e.every===b?e.every(t,n):(k(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i}),!!r)};var L=C.some=C.any=function(e,t,n){t||(t=C.identity);var r=!1;return e==null?r:w&&e.some===w?e.some(t,n):(k(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i}),!!r)};C.contains=C.include=function(e,t){var n=!1;return e==null?n:E&&e.indexOf===E?e.indexOf(t)!=-1:(n=L(e,function(e){return e===t}),n)},C.invoke=function(e,t){var n=f.call(arguments,2);return C.map(e,function(e){return(C.isFunction(t)?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t){return C.isEmpty(t)?[]:C.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-Infinity;var r={computed:-Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return Infinity;var r={computed:Infinity};return k(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},C.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r};var A=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var r=A(t);return C.pluck(C.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var O=function(e,t,n,r){var i={},s=A(t);return k(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};C.groupBy=function(e,t,n){return O(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return O(e,t,n,function(e,t,n){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,r){n=n==null?C.identity:A(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},C.toArray=function(e){return e?e.length===+e.length?f.call(e):C.values(e):[]},C.size=function(e){return e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return t!=null&&!n?f.call(e,0,t):e[0]},C.initial=function(e,t,n){return f.call(e,0,e.length-(t==null||n?1:t))},C.last=function(e,t,n){return t!=null&&!n?f.call(e,Math.max(e.length-t,0)):e[e.length-1]},C.rest=C.tail=C.drop=function(e,t,n){return f.call(e,t==null||n?1:t)},C.compact=function(e){return C.filter(e,function(e){return!!e})};var M=function(e,t,n){return k(e,function(e){C.isArray(e)?t?a.apply(n,e):M(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return M(e,t,[])},C.without=function(e){return C.difference(e,f.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){var i=n?C.map(e,n,r):e,s=[],o=[];return k(i,function(n,r){if(t?!r||o[o.length-1]!==n:!C.contains(o,n))o.push(n),s.push(e[r])}),s},C.union=function(){return C.uniq(l.apply(s,arguments))},C.intersection=function(e){var t=f.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(s,f.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){var e=f.call(arguments),t=C.max(C.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=C.pluck(e,""+r);return n},C.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(E&&e.indexOf===E)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(S&&e.lastIndexOf===S)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var _=function(){};C.bind=function(t,n){var r,i;if(t.bind===N&&N)return N.apply(t,f.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return i=f.call(arguments,2),r=function(){if(this instanceof r){_.prototype=t.prototype;var e=new _,s=t.apply(e,i.concat(f.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(f.call(arguments)))}},C.bindAll=function(e){var t=f.call(arguments,1);return t.length==0&&(t=C.functions(e)),k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(f.call(arguments,1)))},C.throttle=function(e,t){var n,r,i,s,o,u,a=C.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},C.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},C.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},C.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},C.keys=T||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return k(f.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(s,f.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(s,f.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return k(f.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var D=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=h.call(e);if(i!=h.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=D(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(C.isFunction(a)&&a instanceof a&&C.isFunction(f)&&f instanceof f))return!1;for(var l in e)if(C.has(e,l)){o++;if(!(u=C.has(t,l)&&D(e[l],t[l],n,r)))break}if(u){for(l in t)if(C.has(t,l)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};C.isEqual=function(e,t){return D(e,t,[],[])},C.isEmpty=function(e){if(e==null)return!0;if(C.isArray(e)||C.isString(e))return e.length===0;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!!e&&e.nodeType===1},C.isArray=x||function(e){return h.call(e)=="[object Array]"},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!!e&&!!C.has(e,"callee")}),typeof /./!="function"&&(C.isFunction=function(e){return typeof e=="function"}),C.isFinite=function(e){return C.isNumber(e)&&isFinite(e)},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||h.call(e)=="[object Boolean]"},C.isNull=function(e){return e===null},C.isUndefined=function(e){return e===void 0},C.has=function(e,t){return p.call(e,t)},C.noConflict=function(){return n._=r,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},C.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=C.invert(P.escape);var H={escape:new RegExp("["+C.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(P.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return t==null?"":(""+t).replace(H[e],function(t){return P[e][t]})}}),C.result=function(e,t){if(e==null)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){k(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),q.call(this,n.apply(C,e))}})};var B=0;C.uniqueId=function(e){var t=B++;return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){n=C.defaults({},n,C.templateSettings);var r=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(I,function(e){return"\\"+F[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,C);var a=function(e){return o.call(this,e,C)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},C.chain=function(e){return C(e).chain()};var q=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],q.call(this,n)}}),k(["concat","join","slice"],function(e){var t=s[e];C.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}},ContextMenu=e("src/index")})();